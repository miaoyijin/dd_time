1: 需要解决的问题：高并发下查询和修改的数据一致性问题，【解决数据一致性】

2: 解决方式：实现方式有乐观锁和悲观锁

3: 乐观锁实现方式: cas,版本号，redis事务watch，mvcc等

4:cas实现方式

mysql实现
update stock set num=$num_new where sid=$sid
升级为：
update stock set num=$num_new where sid=$sid and num=$num_old
即可。


mysql版本号实现update table set name = 'Aron', version = version + 1 where id = #{id} and version = #{version};


redis实现
redis事务mutil + watch
